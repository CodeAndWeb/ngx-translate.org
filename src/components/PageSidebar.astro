---
import MobileTableOfContents from 'virtual:starlight/components/MobileTableOfContents';
import TableOfContents from 'virtual:starlight/components/TableOfContents';
---

{
  Astro.locals.starlightRoute.toc && (
  <>
      <div class="lg:sl-hidden">
          <MobileTableOfContents />
      </div>
      <div class="right-sidebar-panel sl-hidden lg:sl-block flex flex-col justify-between h-full">
          <div class="sl-container">
              <TableOfContents />
          </div>
          <div class="sl-hidden lg:sl-block sl-container">
              <div class="bg-accent-100 w-full rounded shadow text-sm mt-4 py-2 px-4">
                  <strong class="text-lg">BabelEdit</strong>
                  <p class="my-2 font-semibold">
                      Managing your ngx-translate JSON files manually?
                  </p>
                  <p class="my-2">
                      Save time and reduce errors with <a href="https://www.codeandweb.com/babeledit" class="font-semibold text-accent-800 inline">BabelEdit</a> â€“ the translation editor made for your Angular projects!
                  </p>
                  <ul class="list-disc pl-4">
                      <li>Edit all languages side by side</li>
                      <li>Auto-translate with DeepL or Google Translate</li>
                      <li>Works perfectly with ngx-translate</li>
                  </ul>
                  <p class="mt-2">
                      ðŸ‘‰ <a href="https://www.codeandweb.com/babeledit" class="font-semibold text-accent-800 inline">Download BabelEdit</a> and speed up your translation process today!
                  </p>
              </div>
          </div>
      </div>
  </>
    )
  }

<style>
    @layer starlight.core {
        .right-sidebar-panel {
            padding: 1rem var(--sl-sidebar-pad-x);
        }
        .sl-container {
            width: calc(var(--sl-sidebar-width) - 2 * var(--sl-sidebar-pad-x));
        }
        .right-sidebar-panel :global(h2) {
            color: var(--sl-color-white);
            font-size: var(--sl-text-h5);
            font-weight: 600;
            line-height: var(--sl-line-height-headings);
            margin-bottom: 0.5rem;
        }
        .right-sidebar-panel :global(:where(a)) {
            display: block;
            font-size: var(--sl-text-xs);
            text-decoration: none;
            color: var(--sl-color-gray-3);
            overflow-wrap: anywhere;
        }
        .right-sidebar-panel :global(:where(a):hover) {
            color: var(--sl-color-white);
        }
        @media (min-width: 72rem) {
            .sl-container {
                max-width: calc(
                        (
                        (
                        100vw - var(--sl-sidebar-width) - 2 * var(--sl-content-pad-x) - 2 *
                        var(--sl-sidebar-pad-x)
                        ) * 0.25 /* MAGIC NUMBER ðŸ¥² */
                        )
                );
            }
        }
    }
</style>
