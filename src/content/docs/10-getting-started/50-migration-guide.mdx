---
title: Migration guide v16 → v17
description: This guide explains how to upgrade between ngx-translate versions
slug: getting-started/migration-guide
---

import { Badge } from '@astrojs/starlight/components';
import { PackageManagers } from 'starlight-package-managers'

:::note
If you are upgrading from **v15**, please follow the previous upgrade steps first:<br/>
[Migration Guide v15 → v16](/v16/getting-started/migration-guide/)
:::

For full details on version support across Angular releases, refer to the
[Angular Compatibility](/getting-started/angular-compatibility/) documentation.

---

## Key Highlights

1. **New Provider System**: Complete overhaul of the configuration system with new provider functions for better tree-shaking and modularity.
2. **Terminology Changes**: "Default" language terminology changed to "Fallback" throughout the API for clarity.
3. **Observable-based Events**: EventEmitters replaced with Observables for better RxJS integration.
4. **Enhanced Type Safety**: Stricter TypeScript types and improved type definitions.
5. **HTTP Loader Redesign**: Configuration-based approach with new features like cache busting and interceptor bypass.
6. **Modern Injection Patterns**: Full support for Angular's `inject()` function in components.

## Breaking Changes Summary

| Category | v16 | v17 |
|----------|-----|-----|
| **Terminology** | `setDefaultLang()` | `setFallbackLang()` |
| **Configuration** | `defaultLang` + `useDefaultLang` | `fallbackLang` |
| **Events** | `EventEmitter` | `Observable` |
| **Properties** | Direct access | Getter methods preferred |

## 1. Update Dependencies

Start by updating to the newest version of @ngx-translate/core:

<PackageManagers type="add" pkg="@ngx-translate/core@^17" />

If you are using @ngx-translate/http-loader, update that too:

<PackageManagers type="add" pkg="@ngx-translate/http-loader@^17" />

## 2. Update Configuration


### Use `fallbackLang` configuration property
<Badge text="Required" variant="caution" />

#### 2.1 Standalone Components (Recommended)

**Migration Example:**
```diff lang=ts title="app.config.ts"
import { provideTranslateService } from '@ngx-translate/core';

export const appConfig: ApplicationConfig = {
  providers: [
    provideTranslateService({
-      defaultLanguage: 'en',
-      useDefaultLang: true
+      fallbackLang: 'en',
    })
  ],
};
```

#### 2.2 NgModule Configuration

```diff lang=ts title="app.module.ts"

@NgModule({
  imports: [
    TranslateModule.forRoot({
-      defaultLanguage: 'en',
-      useDefaultLang: true
+      fallbackLang: 'en',
    })
  ],
})
export class AppModule { }
```

## Using provider functions
(optional)




```diff lang=ts
- { provide: TranslateLoader, useClass: CustomLoader }
+ provideTranslateLoader(CustomLoader)
```

These provider functions should always be used within the `provideTranslateService` configuration:

```typescript
  loader: provideTranslateLoader(CustomLoader),
  compiler: provideTranslateCompiler(CustomCompiler),
  missingTranslationHandler: provideMissingTranslationHandler(CustomMissingTranslationHandler),

```

This is because `provideTranslateService` loads default implementations for any providers not explicitly included in its configuration object.
If you provide these services separately, they might not be used by the TranslateService.

#### Issue 2: Provider Usage Location

**Problem:** Using provider functions outside of `provideTranslateService` configuration.

**Solution:** Always use provider functions within the `provideTranslateService` configuration object:
```diff lang=ts
// ❌ INCORRECT USAGE - Will not work as expected
[
  provideTranslateService(),
-  provideTranslateLoader(CustomLoader),  // This won't be used by TranslateService
-  provideTranslateCompiler(CustomCompiler)  // This won't be used by TranslateService
]

// ✅ CORRECT USAGE
provideTranslateService({
+  loader: provideTranslateLoader(CustomLoader),
+  compiler: provideTranslateCompiler(CustomCompiler)
})
```

This is because `provideTranslateService` loads default implementations for any providers
not explicitly included in its configuration object. If you provide these services separately, they won't be used by the TranslateService.





### 3. Update Method Calls

#### 3.1 Language Configuration Methods

**v16 → v17 Method Changes:**

| v16 Method | v17 Method | Notes |
|------------|------------|-------|
| `setDefaultLang(lang)` | `setFallbackLang(lang)` | Returns Observable |
| `getDefaultLang()` | `getFallbackLang()` | Returns `Language \| null` |
| `onDefaultLangChange` | `onFallbackLangChange` | Now Observable |


<Badge text="Breaking change" variant="danger" />: `getDefaultLang()` in v16 returned a `string` - which was not always true since it could
also return `undefined` or `null` if no fallback language was configured.
`getFallbackLang()` returns `Langauge|null`. `Language` is an alias for `string`.



**Migration Example:**
```diff lang=ts
- translateService.setDefaultLang('en');
+ translateService.setFallbackLang('en')

- const defaultLang = translateService.getDefaultLang();
+ const fallbackLang = translateService.getFallbackLang();

-translateService.onDefaultLangChange.subscribe(event => {
+translateService.onFallbackLangChange.subscribe(event => {
  console.log('Default language changed:', event.lang);
});
```

#### 3.2 Property Access

**v16 → v17 Property Changes:**

| v16 Property | v17 Replacement | Notes |
|--------------|-----------------|-------|
| `currentLang` | `getCurrentLang()` | Method preferred |
| `defaultLang` | `getFallbackLang()` | Method preferred |
| `langs` | `getLangs()` | Method preferred |

**Migration Example:**
```diff lang=ts
-const current = translateService.currentLang;
+const current = translateService.getCurrentLang();

-const fallback = translateService.defaultLang;
+const fallback = translateService.getFallbackLang();

-const languages = translateService.langs;
+const languages = translateService.getLangs();
```

### 4. Update Component Injection

#### 4.1 Modern Injection Pattern
<Badge text="Optional" variant="success" />


```diff lang=ts
-import { Component } from '@angular/core';
+import { Component, inject } from '@angular/core';
import { TranslateService } from '@ngx-translate/core';

@Component({
  selector: 'app-example',
  template: `{{ 'HELLO' | translate }}`
})
export class ExampleComponent {
-  constructor(private translate: TranslateService) {
+  private translate = inject(TranslateService);
+
+  constructor() {
    this.translate.setDefaultLang('en');
  }
}
```


### 5. Update HTTP Loader Configuration


### Use provider function for `TranslateHttpLoader`
<Badge text="Optional" variant="success" />

#### 2.1 Standalone Components (Recommended)

**Migration Example:**
```diff lang=ts title="app.config.ts"

-const httpLoaderFactory: (http: HttpClient) => TranslateHttpLoader = (http: HttpClient) =>
-    new TranslateHttpLoader(http, './i18n/', '.json');

import { provideTranslateService } from '@ngx-translate/core';

export const appConfig: ApplicationConfig = {
  providers: [
    provideTranslateService({
-      loader: {
-        provide: TranslateLoader,
-        useFactory: httpLoaderFactory,
-        deps: [HttpClient],
-      },
+      loader: provideTranslateHttpLoader({prefix:"./assets/i18n/", suffix:".json"}),
    })
  ],
};
```

#### 2.2 NgModule Configuration

**Migration Example:**
```diff lang=ts title="app.module.ts"

-const httpLoaderFactory: (http: HttpClient) => TranslateHttpLoader = (http: HttpClient) =>
-    new TranslateHttpLoader(http, './i18n/', '.json');

@NgModule({
  imports: [
    TranslateModule.forRoot({
-      loader: {
-        provide: TranslateLoader,
-        useFactory: httpLoaderFactory,
-        deps: [HttpClient],
-      },
+      loader: provideTranslateHttpLoader({prefix:"./i18n/", suffix:".json"}),
    })
  ],
})
export class AppModule { }
```

For comprehensive information about using ngx-translate with NgModules, see the [NgModules Support](/reference/ngmodules/) documentation.


#### 5.2 New HTTP Loader Features

v17 introduces new configuration options:

```ts
provideTranslateHttpLoader({
  prefix: './assets/i18n/',
  suffix: '.json',
  enforceLoading: true,    // Adds cache-busting timestamp
  useHttpBackend: true     // Bypasses HTTP interceptors
})
```





### 6. Update Event Subscriptions

#### 6.1 Observable-based Events

**v16 Events (EventEmitter):**
```diff lang=ts
-translateService.onDefaultLangChange.subscribe((event: DefaultLangChangeEvent) => {
-  console.log('Default language changed:', event.lang);
+translateService.onFallbackLangChange.subscribe((event: FallbackLangChangeEvent) => {
+  console.log('Fallback language changed:', event.lang);
});
```
